import{A as J,F as K,d as G,l as H}from"./chunk-6XGMAUUD.js";import"./chunk-NODAZ5ET.js";import"./chunk-QUJFQN2Y.js";import"./chunk-U2EW7UUI.js";import"./chunk-3VGDWX6T.js";import"./chunk-TPX2NT44.js";import"./chunk-PESUVOSL.js";import{a as C}from"./chunk-BZW6RTSU.js";import{$ as h,Aa as V,D as g,Ea as j,F as s,G as o,H as t,I as y,J as E,K as I,M as S,N as w,O as d,W as n,X as _,Y as m,_ as v,aa as P,ca as F,da as b,ea as q,j as M,lb as L,na as k,nb as N,oa as D,q as u,qb as W,r as f,ra as T,sb as A,tb as $,ua as z,ub as B,x as O,xa as R,y as r,yb as U,z as x}from"./chunk-Q3SEP6DO.js";import"./chunk-O2LKDVXV.js";import"./chunk-UVK64YLH.js";import"./chunk-6IHAYORV.js";import"./chunk-3OY46VXU.js";import"./chunk-BD6LD5VO.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-YP6DMM4G.js";import"./chunk-CKP3SGE2.js";import"./chunk-HS6F7JI3.js";import"./chunk-NQVRKVPL.js";import"./chunk-NTF5CPGF.js";import"./chunk-DLTAMAIO.js";import"./chunk-K6FI7DQH.js";import"./chunk-TLQMGTG2.js";import"./chunk-M2X7KQLB.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-FP7EQKGB.js";var Q=()=>["/tabs/reservas"],X=i=>({paqueteId:i}),Y=()=>[1,2,3,4,5];function Z(i,c){if(i&1&&(o(0,"div",15),y(1,"img",16),t()),i&2){let e=c.$implicit;r(),s("src",e,O)}}function ee(i,c){if(i&1&&(o(0,"div",13),g(1,Z,2,1,"div",14),t()),i&2){let e=d().ngIf;r(),s("ngForOf",e.imagenes)}}function te(i,c){if(i&1&&(o(0,"option",24),n(1),t()),i&2){let e=c.$implicit;s("value",e),r(),_(e)}}function ne(i,c){if(i&1){let e=S();o(0,"div",17)(1,"label",18),n(2,"Tu rese\xF1a"),t(),o(3,"textarea",19),P("ngModelChange",function(a){u(e);let p=d(2);return h(p.comentario,a)||(p.comentario=a),f(a)}),t(),o(4,"label",20),n(5,"Calificaci\xF3n"),t(),o(6,"select",21),P("ngModelChange",function(a){u(e);let p=d(2);return h(p.calificacion,a)||(p.calificacion=a),f(a)}),g(7,te,2,2,"option",22),t(),o(8,"button",23),w("click",function(){u(e);let a=d(2);return f(a.enviarResena())}),n(9,"Enviar rese\xF1a"),t()()}if(i&2){let e=d(2);r(3),v("ngModel",e.comentario),r(3),v("ngModel",e.calificacion),r(),s("ngForOf",b(3,Y))}}function ie(i,c){if(i&1&&(o(0,"li",28)(1,"p",29),n(2),t(),o(3,"small",7),n(4),t()()),i&2){let e=c.$implicit;r(2),_(e.comentario),r(2),m("Calificaci\xF3n: ",e.calificacion,"/5")}}function oe(i,c){if(i&1&&(o(0,"div",25)(1,"h5"),n(2,"Rese\xF1as"),t(),o(3,"ul",26),g(4,ie,5,2,"li",27),t()()),i&2){let e=d().ngIf;r(4),s("ngForOf",e.resenas)}}function re(i,c){if(i&1&&(E(0),o(1,"div",2),g(2,ee,2,1,"div",3),o(3,"div",4)(4,"div",5)(5,"h5",6),n(6),t(),o(7,"small",7),n(8),t()(),o(9,"div",8)(10,"p")(11,"strong"),n(12,"Descripci\xF3n:"),t(),n(13),t(),o(14,"p")(15,"strong"),n(16,"Precio:"),t(),n(17),t(),o(18,"p")(19,"strong"),n(20,"Calificaci\xF3n:"),t(),n(21),t(),o(22,"p")(23,"strong"),n(24,"Origen:"),t(),n(25),t(),o(26,"p")(27,"strong"),n(28,"Destino:"),t(),n(29),t(),o(30,"p")(31,"strong"),n(32,"Tipo de viaje:"),t(),n(33),t(),o(34,"p")(35,"strong"),n(36,"Clase:"),t(),n(37),t(),o(38,"p")(39,"strong"),n(40,"M\xE1x. pasajeros:"),t(),n(41),t()()(),o(42,"div",9)(43,"ion-button",10),n(44," Reservar este Paquete "),t()(),g(45,ne,10,4,"div",11)(46,oe,5,1,"div",12),t(),I()),i&2){let e=c.ngIf,l=d();r(2),s("ngIf",e.imagenes==null?null:e.imagenes.length),r(4),_(e.nombre),r(2),m("Ubicaci\xF3n: ",e.ubicacion,""),r(5),m(" ",e.descripcion,""),r(4),m(" $",e.precio,""),r(4),m(" ",e.calificacion,""),r(4),m(" ",e.origen,""),r(4),m(" ",e.destino,""),r(4),m(" ",e.tipo,""),r(4),m(" ",e.clase,""),r(4),m(" ",e.maxPasajeros,""),r(2),s("routerLink",b(15,Q))("queryParams",q(16,X,e._id)),r(2),s("ngIf",l.token),r(),s("ngIf",e.resenas==null?null:e.resenas.length)}}var xe=(()=>{let c=class c{constructor(l,a){this.route=l,this.http=a,this.paquete=null,this.comentario="",this.calificacion=0,this.token=""}ngOnInit(){let l=this.route.snapshot.paramMap.get("id");this.token=localStorage.getItem("token"),this.obtenerPaquete(l)}obtenerPaquete(l){this.http.get(`${C}/travel/paquetes/${l}`).subscribe({next:a=>{this.paquete=a,this.paquete.resenas=a.rese\u00F1as},error:a=>{console.error("Error al obtener paquete",a)}})}enviarResena(){if(!this.comentario||!this.calificacion)return;let l=this.paquete._id;this.http.post(`${C}/travel/paquetes/${l}/resenas`,{comentario:this.comentario,calificacion:this.calificacion},{headers:{Authorization:`Bearer ${this.token}`}}).subscribe({next:a=>{alert("\xA1Gracias por tu rese\xF1a!"),this.comentario="",this.calificacion=0,this.obtenerPaquete(l)},error:a=>{console.error("Error al enviar rese\xF1a",a)}})}};c.\u0275fac=function(a){return new(a||c)(x(R),x(z))},c.\u0275cmp=M({type:c,selectors:[["app-detalle-paquete"]],standalone:!0,features:[F],decls:2,vars:1,consts:[["fullscreen",""],[4,"ngIf"],[1,"container","mt-3"],["class","image-gallery",4,"ngIf"],[1,"card","mt-4"],[1,"card-header"],[1,"card-title","mb-0"],[1,"text-muted"],[1,"card-body"],[1,"mt-3"],["color","success",3,"routerLink","queryParams"],["class","mt-4",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"image-gallery"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],["alt","Imagen del paquete",1,"gallery-img",3,"src"],[1,"mt-4"],["for","comentario",1,"form-label"],["id","comentario","rows","3","placeholder","Escribe tu comentario",1,"form-control",3,"ngModelChange","ngModel"],["for","calificacion",1,"form-label","mt-3"],["id","calificacion",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-3",3,"click"],[3,"value"],[1,"mt-5"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"mb-1"]],template:function(a,p){a&1&&(o(0,"ion-content",0),g(1,re,47,18,"ng-container",1),t()),a&2&&(r(),s("ngIf",p.paquete))},dependencies:[T,k,D,U,$,B,L,A,N,W,j,V,K,G,H,J],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #FFF5E4;padding:16px;--overflow: auto}.carousel-img[_ngcontent-%COMP%]{height:280px;object-fit:cover;border-radius:16px;box-shadow:0 4px 12px #00000026;transition:transform .3s ease}.carousel-img[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{background-color:var(--ion-color-primary);width:10px;height:10px;border-radius:50%}.card[_ngcontent-%COMP%]{background:#fffffff2;border:none;border-radius:16px;box-shadow:0 4px 18px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff;padding:12px 16px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff!important}.card-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem}.card-body[_ngcontent-%COMP%]{padding:16px;font-size:.95rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}.card-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-button[color=success][_ngcontent-%COMP%]{margin-top:10px;--border-radius: 12px;font-weight:600}textarea.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #ccc;padding:12px;background-color:#fdfdfd;font-size:1rem;box-shadow:none;transition:border-color .2s ease}textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:var(--ion-color-primary);outline:none}label.form-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;color:#444}.btn-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);border-color:var(--ion-color-primary);border-radius:12px;font-weight:600;letter-spacing:.5px}.list-group-item[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:12px;background-color:#fff;border:1px solid #eee;padding:14px}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:4px;font-size:15px;color:#333}.list-group-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#777;font-size:13px}h5[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--ion-color-primary);margin-bottom:12px}@media (max-width: 480px){.carousel-img[_ngcontent-%COMP%]{height:220px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem}textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:.95rem}}.image-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.image-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:16px;box-shadow:0 4px 12px #00000026;transition:transform .3s ease;background-color:#fff}.gallery-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover;display:block;border-radius:16px;transition:transform .3s ease}.gallery-img[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media (max-width: 480px){.gallery-img[_ngcontent-%COMP%]{height:130px}}']});let i=c;return i})();export{xe as DetallePaquetePage};
