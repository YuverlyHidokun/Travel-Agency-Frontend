import{E as R,F as S,f as j,g as P,l as O,n as w,v as T,w as b,x as k,y as E}from"./chunk-6XGMAUUD.js";import"./chunk-NODAZ5ET.js";import"./chunk-QUJFQN2Y.js";import"./chunk-U2EW7UUI.js";import"./chunk-3VGDWX6T.js";import"./chunk-TPX2NT44.js";import"./chunk-PESUVOSL.js";import{a as _}from"./chunk-BZW6RTSU.js";import{D as g,F as c,G as m,H as s,I as h,W as p,X as u,ca as v,j as f,oa as C,ra as y,ua as x,xa as I,y as r,z as a,za as M}from"./chunk-Q3SEP6DO.js";import"./chunk-O2LKDVXV.js";import"./chunk-UVK64YLH.js";import"./chunk-6IHAYORV.js";import"./chunk-3OY46VXU.js";import"./chunk-BD6LD5VO.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-YP6DMM4G.js";import"./chunk-CKP3SGE2.js";import"./chunk-HS6F7JI3.js";import"./chunk-NQVRKVPL.js";import"./chunk-NTF5CPGF.js";import"./chunk-DLTAMAIO.js";import"./chunk-K6FI7DQH.js";import"./chunk-TLQMGTG2.js";import"./chunk-M2X7KQLB.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{e as l}from"./chunk-FP7EQKGB.js";function F(i,n){i&1&&h(0,"ion-spinner",5)}var G=(()=>{let n=class n{constructor(o,t,e,d){this.route=o,this.http=t,this.toastCtrl=e,this.router=d,this.mensaje="Verificando...",this.color="primary",this.cargando=!0}ngOnInit(){let o=this.route.snapshot.paramMap.get("token");if(console.log("\u{1F50D} Token capturado desde la URL:",o),o){let t=`${_}/travel/usuarios/verificar/${o}`;console.log("\u{1F310} Haciendo GET a:",t),this.http.get(t).subscribe({next:e=>l(this,null,function*(){console.log("\u2705 Respuesta del backend:",e),this.mensaje=e.msg||"Cuenta verificada con \xE9xito",this.color="success",this.cargando=!1,yield(yield this.toastCtrl.create({message:this.mensaje,duration:3e3,color:"success"})).present(),setTimeout(()=>{this.router.navigate(["/login"])},3e3)}),error:e=>l(this,null,function*(){console.error("\u274C Error al verificar cuenta:",e),this.mensaje=e.error?.msg||"Token inv\xE1lido o expirado",this.color="danger",this.cargando=!1,yield(yield this.toastCtrl.create({message:this.mensaje,duration:4e3,color:"danger"})).present()})})}else console.error("\u2757 Token no proporcionado"),this.mensaje="Token no proporcionado",this.color="danger",this.cargando=!1}};n.\u0275fac=function(t){return new(t||n)(a(I),a(x),a(R),a(M))},n.\u0275cmp=f({type:n,selectors:[["app-verificacion"]],standalone:!0,features:[v],decls:11,vars:4,consts:[[3,"color"],["fullscreen","",1,"ion-padding","verify-content"],[1,"content-center"],[1,"mensaje-text",3,"color"],["name","crescent","color","primary","class","spinner",4,"ngIf"],["name","crescent","color","primary",1,"spinner"]],template:function(t,e){t&1&&(m(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),p(3,"Verificaci\xF3n"),s()()(),m(4,"ion-content",1)(5,"ion-card")(6,"ion-card-content",2)(7,"ion-text",3)(8,"h2"),p(9),s()(),g(10,F,1,0,"ion-spinner",4),s()()()),t&2&&(r(),c("color",e.color),r(6),c("color",e.color),r(2),u(e.mensaje),r(),c("ngIf",e.cargando))},dependencies:[S,j,P,O,w,T,b,k,E,y,C],styles:[".verify-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.verify-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:90%;max-width:400px;border-radius:var(--ion-border-radius);box-shadow:0 6px 18px #00000026;background:linear-gradient(135deg,#fff5e4,#c1d8c3)}.verify-content[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem}.verify-content[_ngcontent-%COMP%]   .mensaje-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.8rem;text-align:center;color:var(--ion-color-primary);margin-bottom:1.5rem}.verify-content[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{--width: 50px;--height: 50px}@media (max-width: 480px){.verify-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:95%}.verify-content[_ngcontent-%COMP%]   .mensaje-text[_ngcontent-%COMP%]{font-size:1.4rem}}"]});let i=n;return i})();export{G as VerificacionPage};
