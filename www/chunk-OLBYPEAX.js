import{B as ee,C as te,c as z,d as D,e as H,f as N,g as A,h as U,i as Y,j as G,k as J,l as K,m as Q,n as X,r as Z,s as $}from"./chunk-H73HDHKZ.js";import{a as ne}from"./chunk-BZW6RTSU.js";import{$ as u,Aa as T,D as f,Ea as W,F as g,G as t,H as n,J as b,K as w,M as y,N as S,O as d,V as I,W as o,X as C,_,aa as x,ca as E,da as v,ea as h,ia as O,j as P,na as V,nb as B,oa as j,q as p,qb as R,r as m,ra as k,ta as L,ua as F,y as l,yb as q,z as M}from"./chunk-Q3SEP6DO.js";import"./chunk-SC7NNYP7.js";import"./chunk-7KGURMOZ.js";import"./chunk-NQVRKVPL.js";import"./chunk-NTF5CPGF.js";import"./chunk-DLTAMAIO.js";import"./chunk-K6FI7DQH.js";import"./chunk-TLQMGTG2.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-FP7EQKGB.js";var oe=r=>["/tabs/paquete",r],re=()=>["/tabs/reservas"],ae=r=>({paqueteId:r});function le(r,s){if(r&1&&(t(0,"ion-item")(1,"ion-label")(2,"h2"),o(3),n(),t(4,"p"),o(5),n()(),t(6,"ion-buttons",16)(7,"ion-button",17),o(8," Ver m\xE1s "),n(),t(9,"ion-button",18),o(10," Reservar "),n()()()),r&2){let i=s.$implicit;l(3),C(i.nombre),l(2),C(i.descripcion),l(2),g("routerLink",h(5,oe,i._id)),l(2),g("routerLink",v(7,re))("queryParams",h(8,ae,i._id))}}function se(r,s){if(r&1&&(t(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3,"Resultados"),n()(),t(4,"ion-card-content")(5,"ion-list"),f(6,le,11,10,"ion-item",15),n()()()),r&2){let i=d(2);l(6),g("ngForOf",i.resultados)}}function ce(r,s){if(r&1){let i=y();b(0),t(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),o(4,"Planifica tu viaje"),n()(),t(5,"ion-card-content")(6,"ion-item")(7,"ion-label",4),o(8,"Origen"),n(),t(9,"ion-input",5),x("ngModelChange",function(e){p(i);let a=d();return u(a.origen,e)||(a.origen=e),m(e)}),n()(),t(10,"ion-item")(11,"ion-label",4),o(12,"Destino"),n(),t(13,"ion-input",6),x("ngModelChange",function(e){p(i);let a=d();return u(a.destino,e)||(a.destino=e),m(e)}),n()(),t(14,"ion-item")(15,"ion-label",4),o(16,"Tipo de viaje"),n(),t(17,"ion-select",7),x("ngModelChange",function(e){p(i);let a=d();return u(a.tipoViaje,e)||(a.tipoViaje=e),m(e)}),t(18,"ion-select-option",8),o(19,"Solo ida"),n(),t(20,"ion-select-option",9),o(21,"Ida y vuelta"),n()()(),t(22,"ion-item")(23,"ion-label",4),o(24,"Clase"),n(),t(25,"ion-select",7),x("ngModelChange",function(e){p(i);let a=d();return u(a.clase,e)||(a.clase=e),m(e)}),t(26,"ion-select-option",10),o(27,"Econ\xF3mica"),n(),t(28,"ion-select-option",11),o(29,"Premium"),n()()(),t(30,"ion-item")(31,"ion-label",4),o(32,"Pasajeros"),n(),t(33,"ion-input",12),x("ngModelChange",function(e){p(i);let a=d();return u(a.pasajeros,e)||(a.pasajeros=e),m(e)}),n()(),t(34,"ion-button",13),S("click",function(){p(i);let e=d();return m(e.buscarViajes())}),o(35," Buscar "),n()()(),f(36,se,7,1,"ion-card",14),w()}if(r&2){let i=d();l(9),_("ngModel",i.origen),l(4),_("ngModel",i.destino),l(4),_("ngModel",i.tipoViaje),l(8),_("ngModel",i.clase),l(8),_("ngModel",i.pasajeros),l(3),g("ngIf",i.resultados.length>0)}}function de(r,s){r&1&&(t(0,"div",19)(1,"h2"),o(2,"Debes iniciar sesi\xF3n para usar el planificador"),n(),t(3,"ion-button",20),o(4,"Iniciar sesi\xF3n"),n()())}var be=(()=>{let s=class s{constructor(c){this.http=c,this.isLoggedIn=!1,this.token=localStorage.getItem("token"),this.tipoViaje="ida",this.origen="",this.destino="",this.pasajeros=1,this.clase="economica",this.resultados=[]}ngOnInit(){this.isLoggedIn=!!this.token}buscarViajes(){let c=new L().set("tipo",this.tipoViaje).set("origen",this.origen).set("destino",this.destino).set("clase",this.clase).set("pasajeros",this.pasajeros.toString());this.http.get(`${ne}/travel/paquetes/buscar`,{params:c}).subscribe({next:e=>{this.resultados=e},error:e=>{console.error("Error al buscar viajes",e)}})}};s.\u0275fac=function(e){return new(e||s)(M(F))},s.\u0275cmp=P({type:s,selectors:[["app-planificador"]],standalone:!0,features:[E],decls:8,vars:2,consts:[["guestView",""],["color","primary"],[1,"ion-padding"],[4,"ngIf","ngIfElse"],["position","stacked"],["placeholder","Ciudad de origen",3,"ngModelChange","ngModel"],["placeholder","Ciudad destino",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","ida"],["value","ida-vuelta"],["value","economica"],["value","premium"],["type","number","min","1",3,"ngModelChange","ngModel"],["expand","block",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","end",1,"botones"],["color","primary",3,"routerLink"],["color","success",3,"routerLink","queryParams"],[1,"ion-text-center"],["expand","block","routerLink","/login","color","primary"]],template:function(e,a){if(e&1&&(t(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),o(3,"Planificador"),n()()(),t(4,"ion-content",2),f(5,ce,37,6,"ng-container",3)(6,de,5,0,"ng-template",null,0,O),n()),e&2){let ie=I(7);l(5),g("ngIf",a.isLoggedIn)("ngIfElse",ie)}},dependencies:[k,V,j,q,B,R,W,T,G,$,Z,Y,H,A,N,U,Q,J,K,D,z,ee,te,X],styles:["ion-content[_ngcontent-%COMP%]{--background: #FFF5E4}ion-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 12px #0000001a;margin-bottom:24px;overflow:hidden;transition:transform .2s ease}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}ion-card-title[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-primary);font-weight:700}ion-item[_ngcontent-%COMP%]{--background: #f9f9f9;--border-radius: var(--ion-border-radius);--padding-start: 12px;--inner-padding-end: 12px;margin-top:12px;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 6px #0000000d}ion-label[_ngcontent-%COMP%]{font-weight:500;color:#333}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--color: #333}ion-button[_ngcontent-%COMP%]{--border-radius: 16px;font-weight:600;letter-spacing:.5px;margin-top:16px}ion-button[color=success][_ngcontent-%COMP%]{--color: var(--ion-color-secondary);border:1.5px solid var(--ion-color-secondary)}.botones[_ngcontent-%COMP%], ion-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-primary);margin-bottom:4px}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#555}ion-content[_ngcontent-%COMP%]   .ion-text-center[_ngcontent-%COMP%]{margin-top:80px;padding:0 24px}.ion-text-center[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#444;margin-bottom:20px}"]});let r=s;return r})();export{be as PlanificadorPage};
