import{c as w,e as S,f as T,g as $,h as z,i as A,j as R,r as H,s as B}from"./chunk-H73HDHKZ.js";import{a as _}from"./chunk-BZW6RTSU.js";import{D as p,F as m,G as o,H as t,I as v,M as I,N as P,O as g,W as a,X as O,Y as f,ca as M,j as x,na as E,oa as k,q as C,r as h,ra as y,sa as u,ua as q,y as l,yb as F,z as b}from"./chunk-Q3SEP6DO.js";import"./chunk-SC7NNYP7.js";import"./chunk-7KGURMOZ.js";import"./chunk-NQVRKVPL.js";import"./chunk-NTF5CPGF.js";import"./chunk-DLTAMAIO.js";import"./chunk-K6FI7DQH.js";import"./chunk-TLQMGTG2.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-FP7EQKGB.js";function N(n,i){n&1&&(o(0,"div",3),a(1," No hay rese\xF1as registradas a\xFAn. "),t())}function V(n,i){if(n&1){let c=I();o(0,"div")(1,"p")(2,"strong"),a(3,"Comentario:"),t(),a(4),t(),o(5,"p")(6,"strong"),a(7,"Calificaci\xF3n:"),t(),a(8),t(),o(9,"ion-button",4),P("click",function(){let e=C(c).$implicit,r=g().$implicit,d=g();return h(d.eliminarResena(r._id,e._id))}),a(10," Eliminar "),t(),v(11,"hr"),t()}if(n&2){let c=i.$implicit;l(4),f(" ",c.comentario,""),l(4),f(" ",c.calificacion,"")}}function D(n,i){if(n&1&&(o(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),a(3),t()(),o(4,"ion-card-content"),p(5,V,12,2,"div",2),t()()),n&2){let c=i.$implicit;l(3),O(c.nombre),l(2),m("ngForOf",c.resenas)}}var Y=(()=>{let i=class i{constructor(s){this.http=s,this.paquetes=[],this.token=localStorage.getItem("token")}ngOnInit(){this.cargarPaquetesConRese\u00F1as()}cargarPaquetesConRese\u00F1as(){let s=new u().set("Authorization",`Bearer ${this.token}`);this.http.get(`${_}/travel/paquetes`,{headers:s}).subscribe({next:e=>{this.paquetes=e.filter(r=>Array.isArray(r.resenas)&&r.resenas.length>0)},error:e=>{console.error("Error al cargar paquetes:",e)}})}eliminarResena(s,e){let r=new u().set("Authorization",`Bearer ${this.token}`);this.http.delete(`${_}/travel/paquetes/${s}/resenas/${e}`,{headers:r}).subscribe({next:d=>{this.cargarPaquetesConRese\u00F1as()},error:d=>{console.error("Error al eliminar rese\xF1a:",d)}})}};i.\u0275fac=function(e){return new(e||i)(b(q))},i.\u0275cmp=x({type:i,selectors:[["app-comentarios"]],standalone:!0,features:[M],decls:7,vars:2,consts:[["color","primary"],["class","ion-padding",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ion-padding"],["color","danger","size","small",3,"click"]],template:function(e,r){e&1&&(o(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),a(3,"Comentarios de usuarios"),t()()(),o(4,"ion-content"),p(5,N,2,0,"div",1)(6,D,6,2,"ion-card",2),t()),e&2&&(l(5),m("ngIf",r.paquetes.length===0),l(),m("ngForOf",r.paquetes))},dependencies:[A,R,H,B,y,E,k,F,S,$,z,T,w],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color);padding:16px}ion-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:var(--ion-border-radius);box-shadow:0 4px 12px #00000014;background:linear-gradient(135deg,#fffffff2,#ffffffe6);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);transition:transform .3s ease}ion-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}ion-card-title[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:1.3rem;font-weight:600;text-align:center;margin-bottom:8px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:4px 0;color:#444}ion-card-content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:0;border-top:1px solid #eee;margin:10px 0}ion-card-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:6px;--border-radius: 12px;font-weight:600}div[ng-reflect-ng-if=true][_ngcontent-%COMP%]{font-size:1rem;color:#666;text-align:center;margin-top:40px;opacity:.8}']});let n=i;return n})();export{Y as ComentariosPage};
