import{c as F,e as j,f as $,g as H,h as V,i as z,j as A,q as D,r as L,s as N,v as R,w as B,x as U}from"./chunk-H73HDHKZ.js";import{a as C}from"./chunk-BZW6RTSU.js";import{D as b,F as _,G as r,H as e,M as q,N as x,O as h,W as n,X as I,Y as p,ca as v,j as P,na as y,oa as E,q as g,r as f,ra as M,sa as O,ua as k,xa as w,y as l,yb as S,z as d,za as T}from"./chunk-Q3SEP6DO.js";import"./chunk-SC7NNYP7.js";import"./chunk-7KGURMOZ.js";import"./chunk-NQVRKVPL.js";import"./chunk-NTF5CPGF.js";import"./chunk-DLTAMAIO.js";import"./chunk-K6FI7DQH.js";import"./chunk-TLQMGTG2.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{e as m}from"./chunk-FP7EQKGB.js";function K(c,a){if(c&1){let s=q();r(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),n(3),e()(),r(4,"ion-card-content")(5,"p")(6,"strong"),n(7,"Destino:"),e(),n(8),e(),r(9,"p")(10,"strong"),n(11,"Precio:"),e(),n(12),e(),r(13,"p")(14,"strong"),n(15,"Clase:"),e(),n(16),e(),r(17,"p")(18,"strong"),n(19,"Pasajeros m\xE1ximos:"),e(),n(20),e(),r(21,"ion-button",4),x("click",function(){let o=g(s).$implicit,i=h();return f(i.editarPaquete(o._id))}),n(22,"Editar"),e(),r(23,"ion-button",5),x("click",function(){let o=g(s).$implicit,i=h();return f(i.eliminarPaquete(o._id))}),n(24,"Eliminar"),e()()()}if(c&2){let s=a.$implicit;l(3),I(s.nombre),l(5),p(" ",s.destino,""),l(4),p(" $",s.precio,""),l(4),p(" ",s.clase,""),l(4),p(" ",s.maxPasajeros,"")}}function Q(c,a){c&1&&(r(0,"ion-text",6)(1,"p",7),n(2,"No hay paquetes disponibles."),e()())}var ce=(()=>{let a=class a{constructor(t,o,i,u,G,J){this.http=t,this.toastCtrl=o,this.loadingCtrl=i,this.alertCtrl=u,this.router=G,this.route=J,this.paquetes=[],this.loading=!1}ngOnInit(){this.obtenerPaquetes()}obtenerPaquetes(){return m(this,null,function*(){this.loading=!0;try{let t=yield this.http.get(`${C}/travel/paquetes/`).toPromise();this.paquetes=t}catch{this.mostrarToast("Error al obtener paquetes")}finally{this.loading=!1}})}editarPaquete(t){this.router.navigate(["../crear-paquete"],{relativeTo:this.route,queryParams:{id:t}})}eliminarPaquete(t){return m(this,null,function*(){yield(yield this.alertCtrl.create({header:"Confirmar",message:"\xBFEst\xE1s seguro de que deseas eliminar este paquete?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>m(this,null,function*(){try{let i=localStorage.getItem("token"),u=new O().set("Authorization",`Bearer ${i}`);yield this.http.delete(`${C}/travel/paquetes/${t}`,{headers:u}).toPromise(),this.mostrarToast("Paquete eliminado"),this.obtenerPaquetes()}catch(i){console.error(i),this.mostrarToast("Error al eliminar el paquete")}})}]})).present()})}mostrarToast(t){return m(this,null,function*(){(yield this.toastCtrl.create({message:t,duration:2500,color:"primary"})).present()})}};a.\u0275fac=function(o){return new(o||a)(d(k),d(U),d(B),d(R),d(T),d(w))},a.\u0275cmp=P({type:a,selectors:[["app-paquetes"]],standalone:!0,features:[v],decls:7,vars:2,consts:[["color","primary"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["color","medium",4,"ngIf"],["color","primary",3,"click"],["color","danger",3,"click"],["color","medium"],[1,"ion-text-center"]],template:function(o,i){o&1&&(r(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n(3,"Gesti\xF3n de Paquetes"),e()()(),r(4,"ion-content",1),b(5,K,25,5,"ion-card",2)(6,Q,3,0,"ion-text",3),e()),o&2&&(l(5),_("ngForOf",i.paquetes),l(),_("ngIf",!i.paquetes.length&&!i.loading))},dependencies:[M,y,E,S,A,N,L,z,j,H,$,V,F,D],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-card[_ngcontent-%COMP%]{border-radius:var(--ion-border-radius);box-shadow:0 4px 12px #00000014;margin-bottom:20px;transition:transform .3s ease;background:linear-gradient(135deg,#fffffff2,#ffffffe0);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}ion-card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}ion-card-title[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--ion-color-primary);text-align:center}ion-card-content[_ngcontent-%COMP%]{font-size:.95rem;color:#333;display:flex;flex-direction:column;gap:.5rem}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.4}ion-card-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:10px;--border-radius: 12px;font-weight:600}ion-card-content[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--color: #fff;background-color:#e74c3c;border:none}ion-card-content[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white}ion-text[_ngcontent-%COMP%]{display:block;margin-top:40px;font-size:1rem;opacity:.7}']});let c=a;return c})();export{ce as PaquetesPage};
